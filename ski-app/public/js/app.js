"use strict";var googleMap=googleMap||{},google=google;googleMap.mapSetup=function(){var o=document.getElementById("map-canvas"),e={zoom:12,center:new google.maps.LatLng(51.490744,(-.140362)),mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(o,e),this.getResorts()},googleMap.getResorts=function(){$.get("http://localhost:3000/resorts").done(this.loopThroughResorts)},googleMap.loopThroughResorts=function(o){$.each(o,function(o,e){googleMap.createMarkerForResort(e)})},googleMap.createMarkerForResort=function(o){var e=new google.maps.LatLng(o.lat,o.lng),n=new google.maps.Marker({position:e,map:this.map});this.addInWindowForResort(o,n)},googleMap.addInWindowForResort=function(o,e){var n=this;google.maps.event.addListener(e,"click",function(){"undefined"!=typeof n.infoWindow&&n.infoWindow.close(),n.infoWindow=new google.maps.InfoWindow({content:"<p>"+o.name+"</p>"}),n.infoWindow.open(n.map,e),n.map.setCenter(e.getPosition()),n.map.setZoom(15)})},$(googleMap.mapSetup.bind(googleMap));