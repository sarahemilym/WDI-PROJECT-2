"use strict";var googleMap=googleMap||{},google=google;googleMap.mapSetup=function(){var o=document.getElementById("map-canvas"),e={zoom:2,center:new google.maps.LatLng(51.490744,(-.140362)),mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(o,e),this.getResorts()},googleMap.getResorts=function(){$.get("http://localhost:3000/api/resorts").done(this.loopThroughResorts)},googleMap.loopThroughResorts=function(o){$.each(o,function(o,e){googleMap.createMarkerForResort(e)})},googleMap.createMarkerForResort=function(o,e){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=new google.maps.LatLng(o.lat,o.lng),n=new google.maps.Marker({position:t,map:this.map,label:a[e%a.length]});new MarkerClusterer(this.map,n,{imagePath:"../images/"+this.fileName+".png"});this.addInWindowForResort(o,n)},googleMap.addInWindowForResort=function(o,e){var a=this;google.maps.event.addListener(e,"click",function(){"undefined"!=typeof a.infoWindow&&a.infoWindow.close(),a.infoWindow=new google.maps.InfoWindow({content:"<p>"+o.name+"</p>"}),a.infoWindow.open(a.map,e),a.map.setCenter(e.getPosition()),a.map.setZoom(5)})},$(googleMap.mapSetup.bind(googleMap));