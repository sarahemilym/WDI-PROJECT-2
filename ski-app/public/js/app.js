"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},googleMap=googleMap||{},google=google;googleMap.mapSetup=function(){var o=document.getElementById("map-canvas"),e={zoom:2,center:new google.maps.LatLng(51.490744,(-.140362)),mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(o,e),this.getResorts()},googleMap.getResorts=function(){$.get("http://localhost:3000/api/resorts").done(this.loopThroughResorts)},googleMap.loopThroughResorts=function(o){$.each(o,function(o,e){googleMap.createMarkerForResort(e)})},googleMap.createMarkerForResort=function(o){var e=new google.maps.LatLng(o.lat,o.lng),t=new google.maps.Marker({position:e,region:o.region,map:this.map});this.addInWindowForResort(o,t)},googleMap.addInWindowForResort=function(o,e){var t=this;google.maps.event.addListener(e,"click",function(){"undefined"!=typeof googleMap.infoWindow&&googleMap.infoWindow.close(),console.log(_typeof(googleMap.infoWindow)),t.infoWindow=new google.maps.InfoWindow({content:"<p>"+o.name+"</p><p>"+o.region+'</p><input type="button" id="forecast" onclick="googleMap.addForecast(resort)"/>'}),t.infoWindow.open(t.map,e),googleMap.map.setCenter(e.getPosition()),googleMap.map.setZoom(5)})},googleMap.addForecast=function(o){console.log("clicked"),$.get("http://api.openweathermap.org/data/2.5/forecast?lat="+o.lat+"&lon="+o.lng+"&units=metric&APPID=17716dc84c929276085ec7322162e7f3").done(function(o){console.log(o)})},$(googleMap.mapSetup.bind(googleMap));